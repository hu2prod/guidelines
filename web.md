# Веб разработка
## Предпосылки
  * Чем больше суммарный размер всех файлов, тем дольше грузится сайт
  * Чем больше запросов, тем дольше грузится сайт
  * Существует минимальный размер сайта после которого скорость загрузки радикально улучшить сложнее чем до. Это размер 1 пакета данных.
    * Можно считать минимальным пакетом TCP
    * Можно считать минимальным пакетом MTU
      * Ethernet имеет [MTU](https://ru.wikipedia.org/wiki/Maximum_transmission_unit) 1500 байт (RFC 1191) 
  * Максимальная скорость загрузки сайта ограничена следующими пределами, из которых наименьший является узким звеном
    * Скорость клиента (с учётом того, что он качает еще что-то еще.)
      * Является узким местом у мобильных клиентов
    * Скорость сервера (с учётом того, что он раздает многим клиентам.)
      * Обычно не является узким местом
    * Latency от клиента к серверу (обычно одинаково ко всем серверам т.к. основное latency приходится на канал до проводного/оптического провайдера)
      * После уменьшения размера сайта до 1 пакета данных скорость в пакетах в секунду больше не влияет на загрузку сайта
    * [RTT](https://en.wikipedia.org/wiki/Round-trip_delay_time) cwnd
      * Подробнее про cwnd [eng](https://blog.stackpath.com/glossary/cwnd-and-rwnd/) [rus](https://habr.com/company/oleg-bunin/blog/319114/)
      * Пример. Если cwnd=4 пакета отослано и ни у одного не получен ack, то следующие пакеты не будут отосланы.
        * А скорость позволяет и больше пакетов переслать, но теперь ограничением является rtt+cwnd
      * cwnd непостоянен при tcp сессии и медленно увеличивается если все пакеты доходят и резко уменьшается если есть потери пакетов.
      * У cwnd есть начальное значение Initial cwnd
## Принципы
  * Мы принимаем следующие константы для всех рассчетов
    * Для проводного клиента
      * Initial cwnd = 10
      * RTT = 50 ms (считаем, что это хороший пинг до google, у проводного пользователя будет в среднем такой же)
    * Для мобильного клиента
      *
      * RTT = 300 ms (что является пингом в wifi сети)
